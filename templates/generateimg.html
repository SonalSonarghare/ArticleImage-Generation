<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>OpenAI Image Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
      .navbar.bg-body-tertiary {
        background-color: #000000 !important; /* Change the background color to gray */
      }
      .navbar-brand img {
        margin-top: 0; /* Set margin top to 0 to move the image to the top */
        margin-left: 0; /* Set margin left to 0 to move the image to the left */
      }
      .navbar-nav .nav-link {
        color: white !important; /* Change the navbar text color to white */
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="#"><img src="/static/img/OpenAI-DALL-E (2).png" alt="OpenAI Logo"></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About Us</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Choose Image
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Generate Cat Image</a></li>
                <li><a class="dropdown-item" href="#">Generate Cricket Image</a></li>
                <li><a class="dropdown-item" href="#">Generate Ottor Image</a></li>
              </ul>
            </li>
          </ul>
          <form class="d-flex" role="search">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success" type="submit">Search</button>
          </form>
        </div>
      </div>
    </nav>

    <div class="container">
      <h2>Generate Image for your Article</h2>
      <form>
        <div class="mb-3">
          <label for="prompt" class="form-label">Enter Your Prompt to Generate Image</label>
          <input type="text" class="form-control" id="imgprompt" aria-describedby="emailHelp">
          <div  class="form-text">We'll fetch the image from OpenAI.</div>
        </div>
        <button id="submitbtn" type="submit" class="bg-black text-white px-4 py-2 my-2 rounded">Submit</button>
      </form>
       <div class="container my-4 text-center">

         <svg class="d-none"id="loadingGif"xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin:auto;background:#fff;" width="200px" height="200px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
           <g transform="rotate(0 50 50)">
             <rect
               x="47"
               y="24"
               rx="3"
               ry="6"
               width="6"
               height="12"
               fill="#000000"
             >
               <animate
                 attributeName="opacity"
                 values="1;0"
                 keyTimes="0;1"
                 dur="1s"
                 begin="-0.9166666666666666s"
                 repeatCount="indefinite"
               ></animate>
             </rect>
           </g>
           <g transform="rotate(30 50 50)">
             <rect
               x="47"
               y="24"
               rx="3"
               ry="6"
               width="6"
               height="12"
               fill="#000000"
             >
               <animate
                 attributeName="opacity"
                 values="1;0"
                 keyTimes="0;1"
                 dur="1s"
                 begin="-0.8333333333333334s"
                 repeatCount="indefinite"
               ></animate>
             </rect>
           </g>
           <g transform="rotate(60 50 50)">
             <rect
               x="47"
               y="24"
               rx="3"
               ry="6"
               width="6"
               height="12"
               fill="#000000"
             >
               <animate
                 attributeName="opacity"
                 values="1;0"
                 keyTimes="0;1"
                 dur="1s"
                 begin="-0.75s"
                 repeatCount="indefinite"
               ></animate>
             </rect>
           </g>
           <g transform="rotate(90 50 50)">
             <rect
               x="47"
               y="24"
               rx="3"
               ry="6"
               width="6"
               height="12"
               fill="#000000"
             >
               <animate
                 attributeName="opacity"
                 values="1;0"
                 keyTimes="0;1"
                 dur="1s"
                 begin="-0.6666666666666666s"
                 repeatCount="indefinite"
               ></animate>
             </rect>
           </g>
           <g transform="rotate(120 50 50)">
             <rect
               x="47"
               y="24"
               rx="3"
               ry="6"
               width="6"
               height="12"
               fill="#000000"
             >
               <animate
                 attributeName="opacity"
                 values="1;0"
                 keyTimes="0;1"
                 dur="1s"
                 begin="-0.5833333333333334s"
                 repeatCount="indefinite"
               ></animate>
             </rect>
           </g>
           <g transform="rotate(150 50 50)">
             <rect
               x="47"
               y="24"
               rx="3"
               ry="6"
               width="6"
               height="12"
               fill="#000000"
             >
               <animate
                 attributeName="opacity"
                 values="1;0"
                 keyTimes="0;1"
                 dur="1s"
                 begin="-0.5s"
                 repeatCount="indefinite"
               ></animate>
             </rect>
           </g>
           <g transform="rotate(180 50 50)">
             <rect
               x="47"
               y="24"
               rx="3"
               ry="6"
               width="6"
               height="12"
               fill="#000000"
             >
               <animate
                 attributeName="opacity"
                 values="1;0"
                 keyTimes="0;1"
                 dur="1s"
                 begin="-0.4166666666666667s"
                 repeatCount="indefinite"
               ></animate>
             </rect>
           </g>
           <g transform="rotate(210 50 50)">
             <rect
               x="47"
               y="24"
               rx="3"
               ry="6"
               width="6"
               height="12"
               fill="#000000"
             >
               <animate
                 attributeName="opacity"
                 values="1;0"
                 keyTimes="0;1"
                 dur="1s"
                 begin="-0.3333333333333333s"
                 repeatCount="indefinite"
               ></animate>
             </rect>
           </g>
           <g transform="rotate(240 50 50)">
             <rect
               x="47"
               y="24"
               rx="3"
               ry="6"
               width="6"
               height="12"
               fill="#000000"
             >
               <animate
                 attributeName="opacity"
                 values="1;0"
                 keyTimes="0;1"
                 dur="1s"
                 begin="-0.25s"
                 repeatCount="indefinite"
               ></animate>
             </rect>
           </g>
           <g transform="rotate(270 50 50)">
             <rect
               x="47"
               y="24"
               rx="3"
               ry="6"
               width="6"
               height="12"
               fill="#000000"
             >
               <animate
                 attributeName="opacity"
                 values="1;0"
                 keyTimes="0;1"
                 dur="1s"
                 begin="-0.16666666666666666s"
                 repeatCount="indefinite"
               ></animate>
             </rect>
           </g>
           <g transform="rotate(300 50 50)">
             <rect
               x="47"
               y="24"
               rx="3"
               ry="6"
               width="6"
               height="12"
               fill="#000000"
             >
               <animate
                 attributeName="opacity"
                 values="1;0"
                 keyTimes="0;1"
                 dur="1s"
                 begin="-0.08333333333333333s"
                 repeatCount="indefinite"
               ></animate>
             </rect>
           </g>
           <g transform="rotate(330 50 50)">
             <rect
               x="47"
               y="24"
               rx="3"
               ry="6"
               width="6"
               height="12"
               fill="#000000"
             >
               <animate
                 attributeName="opacity"
                 values="1;0"
                 keyTimes="0;1"
                 dur="1s"
                 begin="0s"
                 repeatCount="indefinite"
               ></animate>
             </rect>
           </g>
         </svg>
         <div class="row imageCont">
           <div class="col-md-4">
             <img width="380"src="https://cdn.openai.com/labs/images/A%20Shiba%20Inu%20dog%20wearing%20a%20beret%20and%20black%20turtleneck.webp?v=1" class="img-responsive">
           </div>
           <div class="col-md-4">
              <img width="380"src="https://cdn.openai.com/labs/images/A%20photo%20of%20a%20white%20fur%20monster%20standing%20in%20a%20purple%20room.webp?v=1" class="img-responsive">
            </div>
           <div class="col-md-4">
              <img width="380"src="https://images.openai.com/blob/b196df3a-6fea-4d86-87b2-f9bb50be64c7/leaf.png?trim=0,0,0,0&width=2000" class="img-responsive">
            </div>
         </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
         <script>

           document.addEventListener("DOMContentLoaded", () => {
             const submitBtn = document.getElementById("submitbtn");
             const imgPrompt = document.getElementById("imgprompt");

             submitBtn.addEventListener("click", (e) => {
               loadingGif.classList.toggle("d-none");
               e.preventDefault();
               const promptTxt = imgPrompt.value;
               fetch("/generateimages/" + promptTxt)
                 .then(response => response.json())
                 .then(data => {
                   loadingGif.classList.toggle("d-none");
                   console.log(data);
                   const urls = data;
                   const container = document.querySelector(".imageCont");
                   let totalHtml = "";

                   urls.forEach(url => {
                     let html = `<div class="col-md-4">
                                   <img width="380" src="${url}">
                                 </div>`;
                     totalHtml += html;
                   });

                   container.innerHTML = totalHtml;
                 });
             });
           });
         </script>
         </body>
         </html>